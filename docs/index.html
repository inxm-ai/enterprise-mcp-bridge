<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise MCP Bridge Documentation</title>
    <!--
      Load Tailwind CSS via CDN. All styling is done with Tailwind classes.
      This simplifies the CSS and makes it more maintainable.
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Retro-professional theme: black, silver, porcelain, orange accents */
        :root {
            --bg-color: #0b0c0e;          /* near-black */
            --surface-color: #111319;     /* graphite */
            --card-bg-color: #14171d;     /* dark slate */
            --text-color: #EEEDE8;        /* porcelain */
            --muted-text-color: #B8BEC6;  /* soft silver */
            --heading-color: #FAFAF8;     /* bright porcelain */
            --border-color: #2b313a;      /* gunmetal */
            --chrome-silver: #cfd3d6;     /* thin chrome lines */
            --accent: #ff7a1a;            /* modern orange */
            --accent-strong: #ff5a00;     /* deeper orange */
            --link-color: var(--accent);
            --code-bg-color: rgba(255,255,255,0.04);
            --code-text-color: #f6f6f4;
        }

        /* Base */
        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(1200px 600px at 20% 0%, rgba(255,122,26,0.10), transparent 40%),
                        linear-gradient(180deg, #0b0c0e 0%, #0a0b0c 100%);
            color: var(--text-color);
        }
        body::before {
            content: "";
            position: fixed; inset: 0; pointer-events: none;
            background-image: radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 3px 3px; opacity: .6; mix-blend-mode: soft-light;
        }

        /* Helpers */
        .theme-surface { background-color: var(--surface-color) !important; border-color: var(--border-color) !important; }
        .theme-card { background-color: var(--card-bg-color) !important; border-color: var(--border-color) !important; position: relative; }
        .theme-border { border-color: var(--border-color) !important; }
        .theme-muted { color: var(--muted-text-color) !important; }
        .theme-heading { color: var(--heading-color) !important; }
        a { color: var(--link-color); }
        a:hover { color: var(--accent-strong); }

        /* Subtle accent echo on cards (skip hero) */
        .theme-card:not(.hero)::before {
            content: "";
            position: absolute;
            left: 10px; right: 10px; top: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,122,26,.45) 20%, rgba(255,90,0,.35) 60%, transparent);
            border-radius: 2px;
            opacity: .8;
        }

        /* Navigation */
        .nav-button { color: var(--muted-text-color); border: 1px solid transparent; }
        .nav-button.active {
            background-color: rgba(255,122,26,.08);
            border-color: var(--accent);
            color: var(--heading-color);
            box-shadow: 0 0 0 1px rgba(255,122,26,.15) inset;
        }
        .nav-button:hover { background-color: rgba(255,255,255,.06); color: var(--heading-color); }

        /* Hero */
        .hero { position: relative; border: 1px solid var(--chrome-silver);
            background-image: linear-gradient(135deg, rgba(255,122,26,.10), rgba(207,211,214,.06) 40%, rgba(0,0,0,0) 60%),
                              linear-gradient(180deg, rgba(255,255,255,.025), rgba(255,255,255,0) 60%);
        }
        .hero::after { content: ""; position: absolute; left:0; right:0; top:0; height:4px;
            background: linear-gradient(90deg, transparent, var(--accent) 20%, var(--accent-strong) 60%, transparent); opacity:.9; }

        /* Glass effect for navbar */
        nav.glass {
            background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)) !important;
            border: 1px solid rgba(255,255,255,.10);
            box-shadow: 0 8px 28px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
            backdrop-filter: blur(10px) saturate(120%);
            -webkit-backdrop-filter: blur(10px) saturate(120%);
        }

        /* Accent button */
        .btn-accent { background: linear-gradient(180deg, var(--accent) 0%, var(--accent-strong) 100%);
            color:#111; border:1px solid rgba(255,255,255,.12); }
        .btn-accent:hover { color: var(--text-color); transform: translateY(-1px); box-shadow: 0 6px 24px rgba(255,90,0,.25); }

    /* Code blocks (with accent echo) */
    pre.theme-code { background-color: var(--code-bg-color) !important; color: var(--code-text-color) !important; border: 1px solid var(--border-color); position: relative; box-shadow: 0 0 0 2px rgba(255,122,26,.06) inset; }
    pre.theme-code::after { content:""; position:absolute; left:10px; right:10px; bottom:0; height:2px; background: linear-gradient(90deg, transparent, rgba(255,122,26,.5) 20%, rgba(255,90,0,.35) 60%, transparent); border-radius:2px; }

        /* Tables */
        table thead { background-color: #1b1f26; }
        table tbody tr { background-color: #0f1216; }
        table tbody tr:hover { background-color: #171b21; }

        /* Mermaid adjustments */
        .mermaid { background-color: var(--card-bg-color); padding:1rem; border-radius:8px; border:1px solid var(--border-color); text-align:center; }
        .mermaid .cluster rect { fill: var(--card-bg-color) !important; stroke: var(--border-color) !important; }
        .mermaid .label text { fill: var(--text-color) !important; }
        .mermaid .node rect, .mermaid .node circle { fill: var(--surface-color) !important; stroke: var(--border-color) !important; }
        .mermaid .edgePaths .path { stroke: var(--chrome-silver) !important; }
        .mermaid .arrowheadPath { fill: var(--accent) !important; }
        .mermaid .actor { fill: var(--surface-color) !important; stroke: var(--border-color) !important; color: var(--text-color) !important; }
        .mermaid .messageText { fill: var(--text-color) !important; }

        /* Media accent frame for images */
        .accent-media { position: relative; padding: .75rem; border-radius: 14px;
            background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
            border: 1px solid var(--border-color);
            box-shadow: 0 0 0 1px rgba(255,122,26,.10) inset, 0 10px 24px rgba(0,0,0,.25);
        }
        .accent-media::after { content:""; position:absolute; left:12px; right:12px; bottom:0; height:3px; border-radius:2px;
            background: linear-gradient(90deg, transparent, rgba(255,122,26,.55) 25%, rgba(255,90,0,.35) 60%, transparent); }
        .accent-media img { display:block; width:100%; border-radius:10px; border:1px solid var(--border-color);
            box-shadow: 0 0 0 1px rgba(255,122,26,.06) inset; }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="container mx-auto max-w-7xl">
        <!-- Navigation bar with dynamic buttons -->
    <nav class="backdrop-blur-sm sticky top-4 z-50 p-4 rounded-xl shadow-lg border flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 theme-surface theme-border glass">
            <h1 class="text-2xl font-bold text-white tracking-tight">
                <img src="logo.svg" alt="enterprise-mcp-bridge Logo" class="inline-block w-12 h-12 mr-2">
                Enterprise MCP Bridge
            </h1>
            <div class="flex flex-wrap gap-2 sm:gap-4">
                <button onclick="showPage('intro')" class="nav-button active px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300">Why This Project?</button>
                <button onclick="showPage('quickstart')" class="nav-button px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300">Quick Start</button>
                <button onclick="showPage('deployment')" class="nav-button px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300">Deployment Example</button>
                <button onclick="showPage('contributing')" class="nav-button px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300">Contributing</button>
            </div>
        </nav>

        <!-- Main content area -->
        <main class="mt-8">
            <!-- Why This Project? - The "WOW" page -->
            <section id="intro" class="page active grid gap-8">
                <!-- Hero Section -->
                <div class="p-8 rounded-2xl shadow-xl flex flex-col lg:flex-row items-center justify-between gap-8 theme-card hero">
                    <div class="lg:w-1/2">
                        <h2 class="text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight leading-tight theme-heading mb-4">The Production-Grade Wrapper for MCP</h2>
                        <p class="text-lg text-gray-400 mb-6">
                            A robust FastAPI-based wrapper that exposes any <a href="https://github.com/modelcontextprotocol" class="transition-colors duration-200">Model Context Protocol (MCP)</a> server over plain HTTP/JSON. This project is engineered for enterprise production use, focusing on security, scalability, and ease of integration.
                        </p>
                        <a href="#quickstart" onclick="showPage('quickstart')" class="inline-block btn-accent font-semibold py-3 px-8 rounded-full shadow-lg transition-transform duration-300">Get Started</a>
                    </div>
                    <!-- Placeholder for a more professional-looking diagram/image -->
                    <div class="lg:w-1/2">
                        <img src="example-application.png" alt="Screenshot of the Enterprise MCP Bridge example deployment with application, jaeger, grafana and keycloak" class="w-full rounded-xl shadow-2xl border border-gray-700">
                    </div>
                </div>

                <!-- Key Capabilities Section -->
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Card: Session & User Management -->
                    <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                        <h3 class="text-xl font-bold text-white mb-4">Robust Session & User Management</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-400 font-normal">
                            <li><strong>Multi-User & Multi-Session:</strong> Securely manage multiple isolated user contexts and concurrent sessions.</li>
                            <li><strong>Stateful & Stateless Modes:</strong> Supports both stateless "fire-and-forget" calls and stateful sessions.</li>
                            <li><strong>Lifecycle & Resource Hygiene:</strong> Explicit endpoints for session management and automatic cleanup of idle sessions.</li>
                            <li><strong>Pluggable for Scalability:</strong> Session manager is swappable for distributed backends like Redis.</li>
                        </ul>
                    </div>
                    <!-- Card: Security & Auth -->

                    <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                        <h3 class="text-xl font-bold text-white mb-4">Integrated Security & Authentication</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-400">
                            <li><strong>Centralized hosting of the MCP server:</strong> The server can be hosted in a centralized manner, allowing multiple clients to connect and interact with it concurrently, while your IT manages the underlying infrastructure, permissions and monitors it.</li>
                            <li><strong>Built-in OAuth2:</strong> Natively handles OAuth2 token exchange with brokers like Keycloak.</li>
                            <li><strong>Automatic Token Injection:</strong> Securely injects tokens into tool calls, simplifying client logic.</li>
                            <li><strong>Automated Token Refresh:</strong> Manages token refresh transparently for long-lived, secure sessions.</li>
                        </ul>
                    </div>
                    <!-- Card: Developer Experience -->
                    <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                        <h3 class="text-xl font-bold text-white mb-4">Developer Experience & API Design</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-400 font-normal">
                            <li><strong>REST-first Interface:</strong> All tool discovery and invocation happen over standard HTTP/JSON.</li>
                            <li><strong>Automatic Tool Endpoints:</strong> Each MCP tool is automatically mapped to a canonical REST endpoint.</li>
                            <li><strong>Structured Error Handling:</strong> Maps MCP errors to standard HTTP status codes.</li>
                            <li><strong>Auto-Generated API Docs:</strong> Built on FastAPI, providing interactive OpenAPI (Swagger) and ReDoc documentation.</li>
                            <li><strong>Containerized Deployment:</strong> Designed for Docker and Kubernetes with structured logging and monitoring.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Quick Start -->
            <section id="quickstart" class="page hidden grid gap-8">
                <div class="rounded-xl p-6 shadow-md border theme-card">
                    <h2 class="text-2xl font-bold text-white mb-4 border-b border-gray-700 pb-2">Quick Start</h2>
                    <p class="text-gray-400 mb-4">Run the local demo with a default MCP server.</p>
                    <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-bash">git clone https://github.com/inxm-ai/enterprise-mcp-bridge.git
cd enterprise-mcp-bridge
pip install "app[all]"
uvicorn app.server:app --reload</code></pre>
                    <p class="text-gray-400 mt-4 mb-2">Open the API docs: <a href="http://localhost:8000/docs" class="hover:underline">http://localhost:8000/docs</a></p>
                    <p class="text-gray-400">You can test it with the following command:</p>
                    <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-bash">curl -X 'POST' \
'http://127.0.0.1:8000/tools/add' \
-H 'accept: application/json' \
-H 'Content-Type: application/json' \
-d '{
"a": 2,
"b": 1
}'</code></pre>
                    <p class="text-gray-400 mt-4">This will return a JSON response with the result of the addition.</p>
                    <p class="text-gray-400 mt-4">For more advanced usage, including session management and authentication, see the <a href="#deployment" onclick="showPage('deployment')">Deployment example</a>.</p>
                </div>
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h2 class="text-2xl font-bold text-white mb-4 border-b border-gray-700 pb-2">Session vs. Stateless Calls</h2>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left rounded-lg overflow-hidden">
                            <thead class="bg-gray-700">
                                <tr>
                                    <th class="p-4 text-sm font-semibold text-white">Mode</th>
                                    <th class="p-4 text-sm font-semibold text-white">How</th>
                                    <th class="p-4 text-sm font-semibold text-white">When to use</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-400">
                                <tr class="transition-colors">
                                    <td class="p-4">Stateless</td>
                                    <td class="p-4"><code>POST /tools/{tool}</code> (no session header)</td>
                                    <td class="p-4">Simple one-off tool execution</td>
                                </tr>
                                <tr class="transition-colors">
                                    <td class="p-4">Stateful</td>
                                    <td class="p-4"><code>POST /session/start</code> then include header/cookie</td>
                                    <td class="p-4">Conversations, multi-step pipelines</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2 mt-6">Session Management CLI Examples</h3>
                    <p class="text-gray-400 mb-2"><strong>Start a Session:</strong></p>
                    <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-bash">curl -X POST http://localhost:8000/session/start -c cookies.txt</code></pre>
                    <p class="text-gray-400 mt-4 mb-2"><strong>Use the Session:</strong></p>
                    <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-bash">curl -b cookies.txt -X POST http://localhost:8000/tools/add -H 'Content-Type: application/json' -d '{"a":2,"b":3}'</code></pre>
                    <p class="text-gray-400 mt-4 mb-2"><strong>Close the Session:</strong></p>
                    <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-bash">curl -b cookies.txt -X POST http://localhost:8000/session/close</code></pre>
                </div>
            </section>

            <!-- Deployment Example -->
            <section id="deployment" class="page hidden grid gap-8">
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h2 class="text-2xl font-bold text-white mb-4 border-b border-gray-700 pb-2">Full-Stack Docker Compose Deployment</h2>
                    <div class="accent-media my-6">
                        <img src="architecture.png" alt="Architecture Diagram" loading="lazy">
                    </div>
                    <p class="text-gray-400 mb-6">This is the deployment from <a href="https://github.com/inxm-ai/enterprise-mcp-bridge/tree/main/example/token-exchange-m365" title="Standalone Getting Started Example">example/token-exchange-m365</a>. It brings up authentication (Keycloak + OAuth2-Proxy), the Enterprise MCP Bridge, and observability (Jaeger, Prometheus, Grafana).</p>

                    <div class="card p-6 rounded-xl border transition-all duration-100 ease-out theme-card">
                        <h3 class="text-xl font-bold text-white mb-2">All the things you need in an Enterprise</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-400 pl-4">
                            <li>Federated SSO via Keycloak with token exchange to Microsoft Entra; OAuth2-Proxy protects the app edge.</li>
                            <li>Least-privilege token handling: user tokens never reach the browser tools; the server exchanges and injects provider tokens per request.</li>
                            <li>Operational visibility: OTLP traces to Jaeger; metrics for Prometheus; default Grafana Dashboard and connection set up.</li>
                            <li>Safety rails: route scoping with <code>MCP_BASE_PATH</code>, tool allow/deny lists, and containerized runtime.</li>
                            <li>Enterprise identity mapping: realms and provider aliases for multi-tenant setups.</li>
                        </ul>
                        <p class="text-gray-400 mb-6">
                            This is not a fully production-ready example, but a starting point for your own deployment. It is designed to be easily extensible and customizable to fit your specific needs.
                        </p>
                    </div>

                    <div class="card p-6 rounded-xl border transition-all duration-100 ease-out theme-card mt-6">
                        <h3 class="text-xl font-bold text-white mb-2">Prerequisites</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-400 pl-4">
                            <li>Docker & Docker Compose</li>
                            <li>Azure CLI (<code>az</code>)</li>
                            <li>A free Microsoft Entra (Azure AD) developer account</li>
                            <li>An OpenAI-compatible API key (for the MCP server)</li>
                        </ul>
                    </div>

                    <div class="card p-6 rounded-xl border transition-all duration-100 ease-out theme-card mt-6">
                        <h3 class="text-xl font-bold text-white mb-2">Start the full stack</h3>
                        <p class="text-gray-400 mb-3">From the example folder, start everything with one script:</p>
                        <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-bash">cd example/token-exchange-m365
./start.sh</code></pre>
                        <p class="text-gray-400 mt-4">Then open <a href="https://inxm.local" class="hover:underline">https://inxm.local</a>. You’ll be redirected to Keycloak at <code>https://auth.inxm.local</code> to log in. On first run, the script also automates the Entra app registration.</p>
                    </div>

                    <div class="card p-6 rounded-xl border transition-all duration-100 ease-out theme-card mt-6">
                        <h3 class="text-xl font-bold text-white mb-2">Stop and clean up</h3>
                        <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-bash">./stop.sh</code></pre>
                        <p class="text-gray-400 mt-2">Stops the containers and removes local resources created by the demo.</p>
                    </div>

                    <div class="card p-6 rounded-xl border transition-all duration-100 ease-out theme-card mt-6">
                        <h3 class="text-xl font-bold text-white mb-2">Service configuration (app-mcp-rest)</h3>
                        <p class="text-gray-400 mb-4">Key settings for the Enterprise MCP Bridge container:</p>
                        <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-yaml">services:
    app-mcp-rest:
        container_name: app.mcp-m365-rest-server
        image: ghcr.io/inxm-ai/enterprise-mcp-bridge:latest
        environment:
            # A human-readable name for the service, useful for logging and observability.
            SERVICE_NAME: mcp-m365-rest-server
            # The command to launch the specific MCP server that this REST wrapper will connect to.
            MCP_SERVER_COMMAND: npx -y @softeria/ms-365-mcp-server --org-mode
            # The name of the environment variable that the MCP server will use to receive the OAuth token.
            OAUTH_ENV: MS365_MCP_OAUTH_TOKEN
            # Specifies the authentication provider to use for token exchange.
            AUTH_PROVIDER: keycloak
            # Allows the REST server to trust self-signed certificates from the auth provider, useful for local development.
            AUTH_ALLOW_UNSAFE_CERT: true
            # The base URL of the Keycloak instance.
            AUTH_BASE_URL: https://auth.inxm.local
            # The Keycloak realm where the authentication is configured.
            KEYCLOAK_REALM: inxm
            # The alias for the external identity provider (in this case, Microsoft 365) within Keycloak.
            KEYCLOAK_PROVIDER_ALIAS: ms365
            # Sets a URL prefix for all the REST endpoints to prevent conflicts with other services.
            MCP_BASE_PATH: /api/mcp/m365
            # A comma-separated list of tool names to exclude from the REST endpoints.
            EXCLUDE_TOOLS: login,logout,verify-login
            # A comma-separated list of tool name patterns to include.
            INCLUDE_TOOLS: "*mail*"
            # The endpoint for OpenTelemetry Protocol (OTLP) to send trace data to Jaeger for monitoring.
            OTLP_ENDPOINT: http://jaeger:4317
        depends_on:
            keycloak:
                condition: service_healthy
            jaeger:
                condition: service_started
        ports:
            - "8000:8000"
        labels:
            - "oauth2-proxy.enable=true"
        networks:
            - private
</code></pre>
                    </div>

                    <h3 class="text-xl font-bold text-white mb-2 mt-6">OAuth Token Integration</h3>
                    <p class="text-gray-400">The server can retrieve, refresh, and inject OAuth tokens for downstream services, simplifying security for your tools.</p>

                    <div class="card p-6 rounded-xl border transition-all duration-100 ease-out theme-card mt-6">
                        <h4 class="text-lg font-bold text-white mb-4">Flow Diagram: Login</h4>
                        <pre class="mermaid">
sequenceDiagram
    participant User
    participant AppIngress as App-Ingress (NGINX)
    participant OAuth2Proxy as OAuth2-Proxy
    participant Keycloak as Keycloak (auth.inxm.local)
    participant AppFrontend as App-Frontend (UI)
    
    User ->> AppIngress: Access https://inxm.local
    AppIngress ->> OAuth2Proxy: Route Request
    OAuth2Proxy ->> Keycloak: Authenticate (redirect)
    Keycloak -->> User: Redirect for Login
    User ->> Keycloak: Log in
    Keycloak -->> OAuth2Proxy: Redirect with Code/Token
    OAuth2Proxy ->> AppIngress: Set Cookie/Header
    AppIngress ->> AppFrontend: Serve Frontend
                        </pre>
                    </div>
                    <div class="card p-6 rounded-xl border transition-all duration-100 ease-out theme-card mt-6">
                        <h4 class="text-lg font-bold text-white mb-4">Flow Diagram: Tool Request with Token Exchange</h4>
                        <pre class="mermaid">
sequenceDiagram
    participant AppFrontend as App-Frontend
    participant AppIngress as App-Ingress (NGINX)
    participant OAuth2Proxy as OAuth2-Proxy
    participant AppMCPRest as App-MCP-Rest
    participant Keycloak as Keycloak
    participant DownstreamAPI as Downstream-API
    
    AppFrontend ->> AppIngress: Request Tool Execution
    AppIngress ->> OAuth2Proxy: Route Request
    OAuth2Proxy ->> AppMCPRest: Forward with Auth Token
    AppMCPRest ->> Keycloak: Request Downstream Token (Token Exchange)
    Keycloak -->> AppMCPRest: Return Downstream Token
    AppMCPRest ->> DownstreamAPI: Access API with Downstream Token
                        </pre>
                    </div>
                </div>
            </section>

            <!-- Contributing -->
            <section id="contributing" class="page hidden grid gap-8">
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h2 class="text-2xl font-bold text-white mb-4 border-b border-gray-700 pb-2">Contributing to Enterprise MCP Bridge</h2>
                    <p class="text-gray-400 mb-6">Thanks for your interest in contributing! This document explains how to propose changes, report issues, add features, improve docs, and release updates.</p>
                    
                    <h3 class="text-xl font-bold text-white mb-2 mt-6">📌 Quick Start (TL;DR)</h3>
                    <ol class="list-decimal list-inside space-y-2 text-gray-400 pl-4">
                        <li>Fork & clone.</li>
                        <li>Create a branch: <code>git switch -c feat/my-feature</code>.</li>
                        <li>Create a virtual env (Python 3.10+).</li>
                        <li>Install locally (incl. dev deps): <code>pip install -e ./app[dev]</code>.</li>
                        <li>Run tests: <code>pytest -q</code>.</li>
                        <li>Make changes + add/adjust tests.</li>
                        <li>Run lint & format.</li>
                        <li>Commit using a sensible message.</li>
                        <li>Open a Pull Request (PR).</li>
                        <li>Agree to the CLA if you haven't</li>
                    </ol>
                </div>
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h3 class="text-xl font-bold text-white mb-2">🗂 Project Layout</h3>
                    <pre class="rounded-lg p-4 text-sm overflow-x-auto text-gray-200 theme-code"><code class="language-bash">app/
  server.py          # FastAPI app wiring
  routes.py          # REST endpoints & request/session orchestration
  models.py          # Pydantic-style data models
  session/           # Session abstraction & lifecycle mgmt
  session_manager/   # Session registry
  oauth/             # Token exchange + decorators
  mcp_server/        # Server parameter helpers
  test_*.py          # Tests (pytest)</code></pre>
                </div>
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h3 class="text-xl font-bold text-white mb-2">🧪 Testing</h3>
                    <p class="text-gray-400">We use <code>pytest</code>. Write tests for every new feature or bug fix. Favor small, explicit tests.</p>
                    <p class="text-gray-400 mt-2">Run the full suite: <code>pytest -q</code></p>
                </div>
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h3 class="text-xl font-bold text-white mb-2">🧹 Code Style & Quality</h3>
                    <p class="text-gray-400">Follow standard Python style (PEP 8). Keep functions small, log appropriately, and avoid broad exception catches. Use type hints for new or changed public functions.</p>
                </div>
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h3 class="text-xl font-bold text-white mb-2">🔐 Security & Privacy</h3>
                    <p class="text-gray-400">Never log raw OAuth tokens or secrets. Validate and sanitize user-provided values. Report vulnerabilities privately before opening a public issue.</p>
                </div>
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h3 class="text-xl font-bold text-white mb-2">🐞 Reporting Issues</h3>
                    <p class="text-gray-400">Include your environment, install method, reproduction steps, expected vs. actual behavior, and logs (with sensitive data trimmed).</p>
                </div>
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h3 class="text-xl font-bold text-white mb-2">📝 Commit Messages & Pull Requests</h3>
                    <p class="text-gray-400">Use <a href="https://www.conventionalcommits.org/en/v1.0.0/" class="hover:underline">Conventional Commits</a> (e.g., <code>feat: add session timeout config</code>, <code>fix: handle unknown tool error</code>). Ensure your PR checklist is complete before submitting, including passing tests, updated documentation, and a clear commit history.</p>
                </div>
                <div class="rounded-xl p-6 shadow-md border transition-all duration-100 ease-out theme-card">
                    <h3 class="text-xl font-bold text-white mb-2">🤖 AI-Assisted Contributions</h3>
                    <p class="text-gray-400">You may use AI tools, but you are the author of record. Carefully review all generated code, ensure it's well-tested, and avoid pasting secrets. Avoid blind bulk rewrites and instead use AI to draft boilerplate or explore alternative designs. Maintainers may request clarification on AI involvement if needed.</p>
                </div>
                <div class="rounded-xl p-6 shadow-md border theme-card">
                    <h3 class="text-xl font-bold text-white mb-2">🧭 Roadmap Ideas</h3>
                    <p class="text-gray-400">Feel free to open PRs for these ideas:</p>
                    <ul class="list-disc list-inside space-y-2 text-gray-400 pl-4">
                        <li>Add session timeout / eviction policy</li>
                        <li>Optional Redis / external session backend</li>
                        <li>Structured logging config & correlation IDs</li>
                    </ul>
                    <p class="text-gray-400 mt-4">Find more ideas in our <a href="https://github.com/inxm-ai/enterprise-mcp-bridge/issues" class="hover:underline">GitHub issues</a>.</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Scripting for dynamic page switching and Mermaid diagrams -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid@11.10.0/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Mermaid diagrams
        mermaid.initialize({
                startOnLoad: true,
                theme: 'dark',
                fontFamily: 'Inter, sans-serif',
                sequence: {
            actorStyle: 'stroke-width:2px; fill:#111319;',
            noteBkgColor: '#14171d',
            noteTextColor: '#EEEDE8',
            messageTextColor: '#EEEDE8',
            arrowColor: '#ff7a1a'
                },
                themeVariables: {
            lineColor: '#2b313a',
                    fontFamily: 'Inter, sans-serif',
                    fontSize: '14px',
            textColor: '#EEEDE8',
            mainBkg: '#14171d',
            clusterBkg: '#14171d',
            clusterBorder: '#2b313a',
            primaryColor: '#ff7a1a',
            secondaryColor: '#ff5a00'
                },
            });

            const pages = document.querySelectorAll('.page');
            const navButtons = document.querySelectorAll('.nav-button');
            const introPage = document.getElementById('intro');

            // Function to show a specific page and update nav buttons
            window.showPage = (id) => {
                pages.forEach(page => page.classList.add('hidden'));
                navButtons.forEach(button => button.classList.remove('active'));
                
                const targetPage = document.getElementById(id);
                targetPage.classList.remove('hidden');
                
                const targetButton = document.querySelector(`nav button[onclick="showPage('${id}')"]`);
                targetButton.classList.add('active');
            };

            // Initial state: show the intro page
            showPage('intro');
        });
    </script>
</body>
</html>
